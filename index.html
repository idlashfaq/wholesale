<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wholesale Order</title>
    <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

<h1>Wholesale Order</h1>

<div class="tabs">
    <div class="tab active" data-tab="lays">Lays</div>
    <div class="tab" data-tab="pepsi">Pepsi</div>
</div>

<div class="search-box">
    <input type="text" id="search" placeholder="Search flavor...">
</div>

<!-- Shop Name -->
<div class="shop-name-box">
    <label>Enter your shop name:</label>
    <input type="text" id="shopNameInput" placeholder="Type your shop name...">
</div>

<!-- Lays Listing -->
<div class="product-list tab-content" id="lays">
    <div class="product" data-name="Lays Wavy" data-price="500" data-pieces="24">
        <figure class="image">
            <img src="images/lays/wavy.jpg" alt="Lays Wavy">
        </figure>
        <h3>Lays Wavy</h3>
        <p>Box Price: PKR 500</p>
        <p>Wholesale Price per Pack: PKR <span class="piece-price"></span></p>
        <p>Retail Price per Pack: PKR <span class="retail-price">30</span></p>
        <label>Boxes: <input type="number" class="quantity" value="1" min="1"></label>
        <br>
        <a href="#" class="order-btn" onclick="orderNow(this)">Order on WhatsApp</a>
    </div>
    <div class="product" data-name="Lays Masala" data-price="1568" data-pieces="24">
        <figure class="image">
            <img src="images/lays/masala.jpg" alt="Lays Masala">
        </figure>
        <h3>Lays Masala</h3>
        <p>Box Price (Wholesale): PKR 1568</p>
        <p>Wholesale Price per Pack: PKR <span class="piece-price"></span></p>
        <p>Retail Price per Pack: PKR <span class="retail-price">70</span></p>
        <label>Boxes: <input type="number" class="quantity" value="1" min="1"></label>
        <br>
        <a href="#" class="order-btn" onclick="orderNow(this)">Order on WhatsApp</a>
    </div>
</div>

<!-- Pepsi Listing -->
<div class="product-list tab-content" id="pepsi" style="display:none;">
    <div class="product" data-name="Pepsi Bottle 1.5L" data-price="1200" data-pieces="12">
        <img src="https://i.ibb.co/LPCL7p3/pepsi-1-5l.jpg" alt="Pepsi Bottle 1.5L">
        <h3>Pepsi Bottle 1.5L</h3>
        <p>Box Price: PKR 1200</p>
        <p>Price per Bottle: PKR <span class="piece-price"></span></p>
        <label>Boxes: <input type="number" class="quantity" value="1" min="1"></label>
        <br>
        <a href="#" class="order-btn" onclick="orderNow(this)">Order on WhatsApp</a>
    </div>
    <div class="product" data-name="Pepsi Can 250ml" data-price="900" data-pieces="24">
        <img src="https://i.ibb.co/VxHqK7m/pepsi-can.jpg" alt="Pepsi Can 250ml">
        <h3>Pepsi Can 250ml</h3>
        <p>Box Price: PKR 900</p>
        <p>Price per Can: PKR <span class="piece-price"></span></p>
        <label>Boxes: <input type="number" class="quantity" value="1" min="1"></label>
        <br>
        <a href="#" class="order-btn" onclick="orderNow(this)">Order on WhatsApp</a>
    </div>
</div>

<script>
    const vendorNumber = "923001234567"; // WhatsApp Number

    // Calculate per piece price for all products
    document.querySelectorAll('.product').forEach(product => {
        let pricePerBox = parseInt(product.dataset.price);
        let piecesInBox = parseInt(product.dataset.pieces);
        let perPiecePrice = (pricePerBox / piecesInBox).toFixed(2);
        product.querySelector('.piece-price').innerText = perPiecePrice;
    });

    function orderNow(button) {
        let enteredShopName = "Shop Name: "+document.getElementById('shopNameInput').value.trim();
        if (!enteredShopName) {
            alert("Please enter your shop name");
            return;
        }

        let product = button.closest('.product');
        let name = product.dataset.name;
        let pricePerBox = parseInt(product.dataset.price);
        let piecesInBox = parseInt(product.dataset.pieces);
        let qty = parseInt(product.querySelector('.quantity').value);

        let perPiecePrice = (pricePerBox / piecesInBox).toFixed(2);
        let totalPrice = pricePerBox * qty;

        let message = `*${enteredShopName}*\n\nOrder Details:\nProduct: ${name}\nBox Price: PKR ${pricePerBox}\nPieces in Box: ${piecesInBox}\nPrice per Piece: PKR ${perPiecePrice}\nTotal Boxes: ${qty}\nTotal Price: PKR ${totalPrice}`;
        let url = `https://wa.me/+923024069411?text=${encodeURIComponent(message)}`;
        window.open(url, '_blank');
    }

    // Search filter
    document.getElementById('search').addEventListener('keyup', function() {
        let searchValue = this.value.toLowerCase();
        document.querySelectorAll('.tab-content:not([style*="display: none"]) .product').forEach(function(product) {
            let name = product.dataset.name.toLowerCase();
            product.style.display = name.includes(searchValue) ? '' : 'none';
        });
    });

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');

            document.querySelectorAll('.tab-content').forEach(content => content.style.display = 'none');
            document.getElementById(tab.dataset.tab).style.display = 'grid';
        });
    });
</script>

</body>
</html>
